<app-nav-bar></app-nav-bar>
<div id="contentPages">

    <app-project-sidebar 
        [projectName]="projectName"></app-project-sidebar>

    <div id="content">
        <div class="row">
            
            <div class="col-sm-3 wrapper-box custom-margin-right">
                <div class="content-box">
                    <h4>{{project.name}}</h4>
                    <img
                    [src]="projectImageSource != null ? projectImageSource : defaultImagePath"
                    alt="project-default-image">
                </div>
                <div class="container">
                    <span>Project key: {{project.key}}</span>
                </div>
                <div class="container">
                    <span>Project visibility: {{project.visibilityName}}</span>
                </div>
                <div class="container">
                    <span>Project type: {{project.typeName}}</span>
                </div>
                <div class="container">
                    <span>Owner: {{project.ownerUsername}}</span>
                </div>
            </div>

            <div class="col-sm-8 wrapper-box charts-div">
                
                <div class="content-box">
                    <div>
                        <canvas id="task-types-canvas" #issueTypes></canvas>
                        <div class="div-caption">Share of task types</div>
                        <div class="chart-options">
                            <button pTooltip="Download Chart" class="download-button" (click)="downloadChart('task-types-canvas')">
                                <i class="fas fa-download"></i> <!-- Font Awesome download icon -->
                            </button>
                        </div>
                    </div>
                </div>

                <div class="content-box">
                    <div>
                        <canvas id="task-priorities-canvas" #issuePriorities></canvas>
                        <div class="div-caption">Share of task priorities</div>
                        <div class="chart-options">
                            <button pTooltip="Download Chart" class="download-button" (click)="downloadChart('task-priorities-canvas')">
                                <i class="fas fa-download"></i> <!-- Font Awesome download icon -->
                            </button>
                        </div>
                    </div>
                </div>

                <div class="content-box">
                    <div>
                        <canvas id="task-statuses-canvas" #issueStatuses></canvas>
                        <div class="div-caption">Share of task statuses</div>
                        <div class="chart-options">
                            <button pTooltip="Download Chart" class="download-button" (click)="downloadChart('task-statuses-canvas')">
                                <i class="fas fa-download"></i> <!-- Font Awesome download icon -->
                            </button>
                        </div>
                    </div>
                </div>

                <div class="content-box">
                    <div>
                        <canvas id="task-groups-canvas" #issueGroups></canvas>
                        <div class="div-caption">Share of task groups</div>
                        <div class="chart-options">
                            <button pTooltip="Download Chart" class="download-button" (click)="downloadChart('task-groups-canvas')">
                                <i class="fas fa-download"></i> <!-- Font Awesome download icon -->
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row custom-margin-top">
            <div class="col-sm-5 wrapper-box custom-margin-right">
                <h4>Description</h4>
                <div id="description" [innerHTML]= "safeDescription"></div>
            </div>
            <div class="col-sm-6 wrapper-box">
                <h4>Logs</h4>
            </div>
        </div>

    </div>
</div>