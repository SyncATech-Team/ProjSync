<div id="contentPages">
    
    <!-- Sidenav -->
    <div id="sideNavBar">
        <app-admin-sidebar></app-admin-sidebar>
    </div>
    <!-- End of Sidenav -->

    <!-- Content -->
    <div id="content">
        
        <p-toast></p-toast>

        <!-- Header strane -->
        <div id="description">
            <h4>List of all available company roles</h4>
            <p>
                This page provides a central hub for administering all company roles within your organization. Here, you can create new roles to define user permissions, edit existing roles to adjust access levels, and view a comprehensive list of all active roles.
                <i class="pi pi-question-circle" style="color: black"
                    title="TO DO role-page.component.html">
                </i>
            </p>
        </div>
        <!-- End of Header strane -->

        <!-- Controls -->
        <div id="controls">
            <!-- Add filers, controls, etc here -->
            <app-create-role></app-create-role>
        </div>
        <!-- End of controls -->

        <!-- Div za tabelu sa ulogama -->
        <div id="roles">

            <!-- Kontrole za pomeranje stranica u tabeli -->
            <div class="mb-1">
                <p-button type="button" icon="pi pi-chevron-left" (click)="prev()" [disabled]="isFirstPage()" styleClass="p-button-text"></p-button>
                <p-button type="button" icon="pi pi-refresh" (click)="reset()" styleClass="p-button-text"></p-button>
                <p-button type="button" icon="pi pi-chevron-right" (click)="next()" [disabled]="isLastPage()" styleClass="p-button-text"></p-button>
            </div>
            <!-- End of Kontrole za pomeranje stranica u tabeli -->

            <!-- Tabela -->
            <p-table
                #dt1
                [value]="roles"
                dataKey="name"
                [loading]="loading"
                [globalFilterFields]="['name']"
                [paginator]="true"
                [rows]="5"
                [first]="first"
                [rowsPerPageOptions]="[5, 10, 25, 50]"
                [showCurrentPageReport]="true"
                (onPage)="pageChange($event)"
                currentPageReportTemplate="Showing {first} to {last} of {{roles.length}} entries"
                [tableStyle]="{'width': '100%'}"
                responsiveLayout="stack" [breakpoint]="'960px'"
                styleClass="p-datatable-striped">
                
                <!-- Table caption -->
                <ng-template pTemplate="caption" class="align-content-center justify-content-around">
                    <div id="header-content" class="flex">
                        
                        <!-- Export options -->
                        <div class="exportFileOptions">
                            <!-- Export to CSV -->
                            <button type="button" pButton pRipple icon="pi pi-file-excel" (click)="exportExcel()"  class="p-button-success mr-2" pTooltip="XLS" tooltipPosition="bottom" title="Export as Excel"></button>
                            
                            <!-- Export to PDF -->
                            <button type="button" pButton pRipple icon="pi pi-file-pdf" (click)="exportPdf()" class="p-button-warning mr-2" pTooltip="PDF" tooltipPosition="bottom" title="Export as PDF"></button>
                        </div>
                        <!-- End of export options -->

                        <div class="filterTableOptions">
                            <!-- <button
                                pButton label="Clear"
                                class="p-button-outlined"
                                icon="pi pi-filter-slash" (click)="clear(dt1)">
                            </button> -->
                        
                            <div class="p-input-icon-left ml-auto">
                                <!-- <i class="pi pi-search"></i> -->
                                <input pInputText id="search-input-term-roles-global"  #searchInput type="text" (input)="search(dt1)" placeholder="Search keyword"/>
                            </div>
                        </div>
                    </div>
                </ng-template>
                <!-- End of table caption -->

                <ng-template pTemplate="header">
                    <tr>
                        <th>Name</th>
                        <th>Working hour price</th>
                        <th>Overtime price</th>
                        <th>Weekend price</th>
                        <th>Actions</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-role>
                    <tr>
                        <td><span class="p-column-title" style="font-weight: bold;">Name</span>{{ role.name }}</td>
                        <td><span class="p-column-title" style="font-weight: bold;">Name1</span> {{ role.workingHourPrice }}</td>
                        <td><span class="p-column-title" style="font-weight: bold;">Name2</span> {{ role.overtimeHourPrice }}</td>
                        <td><span class="p-column-title" style="font-weight: bold;">Name3</span> {{ role.weekendHourPrice }} </td>
                        <td><span class="p-column-title" style="font-weight: bold">Actions</span>
                            <div class="flexdiv-custom">
                                <div class="action">
                                    <span (click)="deleteCompanyRole(role)" class="pi pi-trash" title="Delete role"></span>
                                </div>

                                <div class="action">
                                    <span class="pi pi-pencil" title="Edit role"></span>
                                </div>
                            </div>
                        </td>
                    </tr>
                </ng-template>

                <!-- NEKE IKONICE :) -->
                <!-- <ng-template pTemplate="paginatorleft">
                    <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
                </ng-template>
                <ng-template pTemplate="paginatorright">
                    <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
                </ng-template> -->

            </p-table>
            <!-- End of tabela -->
        </div>
        <!-- End of div za tabelu sa ulogama -->
    </div>
    <!-- End of content -->

</div>
