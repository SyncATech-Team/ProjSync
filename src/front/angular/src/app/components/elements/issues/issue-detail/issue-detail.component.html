<div *ngIf="issue; else loaderTmpl" class="detail-modal pl-3">
    <div class="d-flex align-items-center pt-3 text-dark">
        <issue-type [issue]="issue"></issue-type>

        <div class="flex-auto"></div>

        <p-toast></p-toast>
        <p-confirmDialog></p-confirmDialog>

        <button pButton
            class="btn btn-empty icon-only"
            icon="pi pi-trash"
            (click)="confirmDelete($event)">
        </button>

        <button pButton
            class="btn btn-empty icon-only"
            icon="pi pi-window-maximize"
            (click)="openIssuePage()">
        </button>
    </div>
    <div class="d-flex w-100 flex-wrap pb-16">
        <div class="col-sm-12 col-md-7 col-lg-8 pr-10">
            <issue-title [issue]="issue"></issue-title>

            <div class="pt-4 pb-2 fs-5 fw-bold">Description</div>
            <issue-description [issue]="issue"></issue-description>

            <div class="pt-4 pb-2 fs-5 fw-bold">Comments</div>
            <issue-comments [issue]="issue"
                            [users]="projectQuery.users$ | async"
                            [usersPhotos]="usersPhotos"></issue-comments>
        </div>
        <div class="col-sm-12 col-md-5 col-lg-4 pt-1">
            <issue-status [issue]="issue"></issue-status>
            <p-divider></p-divider>
            <issue-reporter [issue]="issue"
                            [users]="projectQuery.users$ | async"
                            [usersPhotos]="usersPhotos">
            </issue-reporter>
            <p-divider></p-divider>
            <issue-assignees [issue]="issue"
                             [users]="projectQuery.users$ | async"
                             [usersPhotos]="usersPhotos">
            </issue-assignees>
            <p-divider></p-divider>
            <issue-priority [issue]="issue"></issue-priority>

            <div class="mt-3 pt-3 border-top border-light text-medium text-muted" style="font-size: 13px;">
                <div>
                    Created - {{ issue.createdAt | date:"medium" }}
                </div>
                <div>
                    Updated - {{ issue.updatedAt | date:"medium" }}
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #loaderTmpl>
    <issue-loader></issue-loader>
</ng-template>
